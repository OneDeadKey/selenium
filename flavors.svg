<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 425 400"
    class="emacs spaceback">
  <link xmlns="http://www.w3.org/1999/xhtml" rel="stylesheet" href="keeb.css" type="text/css"/>
  <style>
    #ez  { transform: translate(10px,  10px); display: none; }
    #tt  { transform: translate(10px, 110px); }
    #hrm { transform: translate(10px, 210px); }
    #dtk { transform: translate(10px, 310px); }

    .left  .tucked { transform: translate(  0px, 10px); }
    .left  .comfy  { transform: translate( 64px, 10px); }
    .left  .reachy { transform: translate(128px, 10px); }
    .right .reachy { transform: translate(220px, 10px); }
    .right .comfy  { transform: translate(284px, 10px); }
    .right .tucked { transform: translate(348px, 10px); }

    .spaceback .backspace,
    .backspace .spaceback,
    .emacs .vim, .vim .emacs { display: none; }
    .backspace .backspace,
    .spaceback .spaceback,
    .emacs .emacs, .vim .vim { display: block; }

    #menu text,
    #menu rect { cursor: pointer; }
    #menu { transform: translate(10px, 0px); }

    .title {
      font-size: 14px;
      /* text-anchor: start; */
      transform: translateX(204px);
    }
  </style>

  <defs>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_backspace" d="M22,19l10,10 M22,29l10-10 M6,24l10,13h26v-26h-26z"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_delete"    d="M16,19l10,10 M16,29l10-10 M42,24l-10,13h-26v-26h26z"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_return"    d="M42,13V27H6 m8-8l-8,8l8,8"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_space"     d="M42,24V32H6V24"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_escape"    d="M24,24l-18-18 m0,10v-10h10 M24,6A18,18,0,1,1,6,24"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_tab"       d="M6,24h27 m-6-8l8,8l-8,8 M42,12V36"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_btab"      d="M42,24h-27 m6-8l-8,8l8,8 M6,12V36"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_shift"     d="M23,7l14,20h-7v16h-14v-16h-7l14,-20"/>
    <path class="symbol" transform="scale(0.4) translate(-24, -30)" id="glyph_caps"      d="M24,7l14,20h-7v6h-14v-6h-7l14,-20 M31,38v5h-14v-5z"/>

    <!-- common tap actions: Tab/Shift-Tab, Backspace/Delete -->
    <g id="tap-tab">
      <use class="level2"   href="#glyph_tab" style="opacity: 1"/>
      <use class="layerNav" href="#glyph_btab"/>
    </g>
    <g id="tap-back">
      <use class="level2"   href="#glyph_backspace" style="opacity: 1"/>
      <use class="layerNav" href="#glyph_delete"/>
    </g>
    <g id="tap-space">
      <use  class="level2" href="#glyph_space" style="opacity: 1"/>
      <text class="layerNav shortcut">fun</text>
    </g>

    <!-- left/ext -->
    <g id="tap-left-ext-emacs">
      <use href="#tap-tab"/>
      <use href="#glyph_return" class="layerSym"/>
    </g>
    <g id="tap-left-ext-vim">
      <use class="level2"   href="#glyph_escape" style="opacity: 1"/>
      <use class="layerSym" href="#glyph_return"/>
    </g>

    <!-- right/ext -->
    <g id="tap-right-ext-backspace">
      <use class="level2"   href="#glyph_return" style="opacity: 1"/>
    </g>
    <g id="tap-right-ext-spaceback">
      <use href="#tap-back"/>
    </g>

    <!-- left/home -->
    <g id="tap-left-home-backspace">
      <use href="#tap-back"/>
      <use href="#glyph_space" class="layerSym"/>
    </g>
    <g id="tap-left-home-spaceback">
      <use class="level2" href="#glyph_space" style="opacity: 1"/>
    </g>
  </defs>

  <!-- easy mode (no dual keys) -->
  <g id="ez">
    <text class="title">EZ : no hold-taps</text>
    <g class="left">
      <g class="tucked specialKey">
        <rect class="colorMod"/>
        <text class="colorMod level0">alt</text>
        <text class="layerSym shortcut">num</text>
      </g>
      <g class="comfy specialKey">
        <rect class="colorMod"/>
        <text class="colorMod level0">ctrl</text>
        <use  class="layerSym" href="#glyph_space"/>
      </g>
      <g class="reachy specialKey">
        <rect class="colorMod"/>
        <text class="colorMod level0">os</text>
        <text class="layerNav pc">fun</text>
        <use  class="layerSym" href="#glyph_return"/>
      </g>
    </g>
    <g class="right">
      <g class="reachy specialKey">
        <rect class="colorNav"/>
        <text class="colorNav level0">nav</text>
      </g>
      <g class="comfy thumb">
        <rect/>
        <use  class="level0" href="#glyph_space"/>
      </g>
      <g class="tucked specialKey">
        <rect class="colorSym"/>
        <text class="level0 colorSym">sym</text>
        <text class="layerNav shortcut">altgr</text>
      </g>
    </g>
  </g>

  <!-- thumb-taps -->
  <g id="tt">
    <text class="title">TT : thumb-taps</text>
    <g class="left">
      <g id="tt-left-tucked" class="tucked">
        <rect/>
        <rect class="colorMod sticky"/>
        <text class="colorMod sticky pc">shift</text>
        <use  class="layerVim" href="#glyph_caps"/>
        <text class="layerSym shortcut">num</text>
      </g>
      <g id="tt-left-comfy"  class="comfy thumb">
        <rect/>
        <g class="backspace">
          <rect class="holdTap colorMod"/>
          <text class="level1  colorMod pc">ctrl</text>
          <use  href="#tap-left-home-backspace"/>
        </g>
        <g class="spaceback">
          <rect class="holdTap borderMod tap-pref"/>
          <text class="level1  borderMod pc">ctrl</text>
          <use  href="#tap-left-home-spaceback"/>
        </g>
      </g>
      <g id="tt-left-reachy" class="reachy thumb">
        <rect/>
        <rect class="holdTap colorMod"/>
        <text class="level1  colorMod pc">os</text>
        <use  class="layerSym" href="#glyph_return"/>
        <use  class="emacs"    href="#tap-left-ext-emacs"/>
        <use  class="vim"      href="#tap-left-ext-vim"/>
      </g>
    </g>
    <g class="right">
      <g id="tt-right-reachy" class="reachy thumb">
        <rect/>
        <rect class="holdTap colorMod"/>
        <text class="level1  colorMod pc">alt</text>
        <use  class="backspace" href="#tap-right-ext-backspace"/>
        <use  class="spaceback" href="#tap-right-ext-spaceback"/>
      </g>
      <g id="tt-right-comfy"  class="comfy thumb">
        <rect/>
        <rect class="holdTap borderNav tap-pref"/>
        <text class="level1  borderNav pc">nav</text>
        <use  href="#tap-space"/>
      </g>
      <g id="tt-right-tucked" class="tucked">
        <rect/>
        <rect class="colorSym sticky"/>
        <text class="colorSym sticky pc">sym</text>
        <text class="layerNav shortcut">altgr</text>
      </g>
    </g>
  </g>

  <!-- homerow-mods -->
  <g id="hrm">
    <text class="title">HRM : homerow mods</text>
    <g class="left">
      <use href="#tt-left-tucked" class="tucked"/>
      <g id="hrm-left-comfy-backspace"  class="comfy thumb backspace">
        <rect/>
        <rect class="holdTap colorNav"/>
        <text class="level1  colorNav pc">nav</text>
        <use  href="#tap-left-home-backspace"/>
      </g>
      <g id="hrm-left-comfy-spaceback"  class="comfy thumb spaceback">
        <rect/>
        <rect class="holdTap borderNav tap-pref"/>
        <text class="level1  borderNav pc">nav</text>
        <use  href="#tap-left-home-spaceback"/>
      </g>
      <g id="hrm-left-reachy" class="reachy thumb">
        <rect/>
        <g class="emacs">
          <rect class="holdTap colorFun"/>
          <text class="level1  colorFun pc">fun</text>
          <use href="#tap-left-ext-emacs"/>
        </g>
        <g class="vim">
          <rect class="holdTap colorNum"/>
          <text class="level1  colorNum shortcut">num</text>
          <use href="#tap-left-ext-vim"/>
        </g>
      </g>
    </g>
    <g class="right">
      <g class="reachy thumb">
        <rect/>
        <g class="emacs">
          <rect class="holdTap colorFun"/>
          <text class="level1  colorFun pc">fun</text>
        </g>
        <g class="vim">
          <rect class="holdTap colorNum"/>
          <text class="level1  colorNum shortcut">num</text>
        </g>
        <use class="backspace" href="#tap-right-ext-backspace"/>
        <use class="spaceback" href="#tap-right-ext-spaceback"/>
      </g>
      <use href="#tt-right-comfy"  class="comfy thumb"/>
      <use href="#tt-right-tucked" class="tucked"/>
    </g>
  </g>

  <!-- 34 keys -->
  <g id="dtk">
    <text class="title">2TK: two thumb keys</text>
    <g class="left">
      <g class="comfy thumb">
        <rect/>
        <rect class="holdTap colorMod"/>
        <text class="level1 colorMod pc">shift</text>
        <use  class="emacs"      href="#tap-tab"/>
        <use  class="vim level2" href="#glyph_escape"/>
        <use  class="layerSym spaceback" href="#glyph_return"/>
        <text class="layerSym backspace shortcut">num</text>
      </g>
      <use class="reachy thumb backspace" href="#hrm-left-comfy-backspace"/>
      <use class="reachy thumb spaceback" href="#hrm-left-comfy-spaceback"/>
    </g>
    <g class="right">
      <use class="reachy thumb emacs" href="#tt-right-comfy"/>
      <g   class="reachy thumb vim">
        <rect/>
        <rect class="holdTap borderNum tap-pref"/>
        <text class="level1  borderNum shortcut">num</text>
        <use  href="#tap-space"/>
      </g>
      <g   class="comfy thumb">
        <rect/>
        <rect class="holdTap colorSym"/>
        <text class="level1  colorSym pc">sym</text>
        <text class="backspace layerNav shortcut">altgr</text>
        <use  class="backspace" href="#tap-right-ext-backspace"/>
        <use  class="spaceback" href="#tap-right-ext-spaceback"/>
      </g>
    </g>
  </g>

  <g id="menu">
    <g class="left" id="vim">
      <g class="reachy specialKey">
        <rect class="vim borderMod holdTap tap-pref"/>
        <rect class="emacs colorMod holdTap"/>
        <text class="level1 colorMod shortcut">vim</text>
      </g>
    </g>
    <g class="right" id="spaceback">
      <g class="reachy specialKey">
        <rect class="spaceback borderMod holdTap tap-pref"/>
        <rect class="backspace colorMod holdTap"/>
        <text class="level1 colorMod shortcut">spaceback</text>
      </g>
    </g>
  </g>

  <script xmlns="http://www.w3.org/1999/xhtml" src="keeb.js" type="text/javascript"/>
  <script type="text/javascript"><![CDATA[
    drawKeys();
    drawLabels();
    document.getElementById("vim").onclick = () => {
      document.firstElementChild.classList.toggle("vim");
      document.firstElementChild.classList.toggle("emacs");
    };
    document.getElementById("spaceback").onclick = () => {
      document.firstElementChild.classList.toggle("backspace");
      document.firstElementChild.classList.toggle("spaceback");
    };
  ]]></script>
</svg>
